"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[606],{9606:function(e,n,t){t.r(n);var r,o,a,i=t(85893),l=t(67294),s=t(99226),c=t(52141),d=t(25827),u=t(22715),p=t(82060),f=t(91409),h=t(80878),x=t(56914),m=t(10206),j=t(70062),g=t(38807),y=t(72428),b=t(51797),k=t(70917),v=t(53640),Z=t(60076),C=t(16012),w=t(33797),S=t(31955),R=function(){return R=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},R.apply(this,arguments)},A=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},D=(0,k.F4)(r||(o=["\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n"],a=["\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n"],Object.defineProperty?Object.defineProperty(o,"raw",{value:a}):o.raw=a,r=o));n.default=function(e){var n=e.project,t=e.projectLinkList,r=(0,l.useState)(null),o=r[0],a=r[1],k=(0,l.useState)(""),E=k[0],O=k[1],P=(0,l.useState)(""),F=P[0],I=P[1],L=(0,l.useState)(""),T=L[0],N=L[1],W=(0,l.useState)(!1),Y=W[0],M=W[1],U=(0,l.useState)(!1),q=U[0],H=U[1],J=(0,l.useState)(!1),X=J[0],z=J[1],B=(0,l.useState)([]),V=B[0],_=B[1];if((0,l.useEffect)((function(){_(t)}),[t]),!n)return(0,i.jsx)(i.Fragment,{});var G=function(){a(null),z(!1)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.Z,R({className:"project-link-container",sx:{display:"flex",gap:.5,flexWrap:"wrap",alignItems:"center"}},{children:[V.slice(0,5).map((function(e,n){return(0,i.jsx)(c.Z,R({title:e.name,placement:"top"},{children:(0,i.jsxs)(s.Z,R({sx:{position:"relative",display:"inline-block"}},{children:[(0,i.jsx)(f.Z,R({color:"secondary",variant:"outlined",onClick:function(){return window.open(e.link,"_blank")},sx:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",animation:"".concat(D," 0.1s ease-out"),animationDelay:"".concat(.1*n,"s"),animationFillMode:"forwards",opacity:0,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"scale(1.05)",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)"}}},{children:"DIA"===e.category?(0,i.jsx)(h.Z,{}):"CHA"===e.category?(0,i.jsx)(x.Z,{}):"DOC"===e.category?(0,i.jsx)(m.Z,{}):"REP"===e.category?(0,i.jsx)(j.Z,{}):(0,i.jsx)(g.Z,{})})),(0,i.jsx)(f.Z,R({color:"primary",variant:"contained",onClick:function(n){return function(e,n){e.stopPropagation(),a(n),O(n.name),I(n.link),N(n.category),M(!1),H(!1),z(!1)}(n,e)},sx:{position:"absolute",top:-6,right:-6,minWidth:15,width:15,height:15,padding:0,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 2px 4px rgba(0,0,0,0.2)","& .MuiButton-startIcon":{margin:0},"&:hover":{backgroundColor:"rgba(0,0,0,0.1)"}}},{children:(0,i.jsx)(b.default,{style:{fontSize:"8pt"}})}))]}))}),e.name)})),(0,i.jsx)(c.Z,R({title:"Add new project link",placement:"top"},{children:(0,i.jsx)(f.Z,R({color:"success",variant:"outlined",onClick:function(){a(null),O(""),I(""),N(""),M(!1),H(!1),z(!0)},sx:{display:"flex",alignItems:"center",justifyContent:"center",animation:"".concat(D," 0.1s ease-out"),animationDelay:"".concat(.1*t.slice(0,5).length,"s"),animationFillMode:"forwards",opacity:0,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"scale(1.05)",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)"}}},{children:(0,i.jsx)(y.Z,{})}))}))]})),(0,i.jsx)(d.Z,R({open:null!==o||X,onClose:G,"aria-labelledby":"edit-project-link-modal","aria-describedby":"edit-project-link-modal-description"},{children:(0,i.jsxs)(s.Z,R({sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadius:"8px",boxShadow:24,p:4}},{children:[(0,i.jsxs)("h2",R({id:"edit-project-link-modal"},{children:[X?"Add":"Edit"," Project Link"]})),(0,i.jsx)(u.Z,{label:"Name",value:E,onChange:function(e){O(e.target.value),M(""===e.target.value.trim())},error:Y,helperText:Y?"Name is required":"",fullWidth:!0,margin:"normal"}),(0,i.jsx)(u.Z,{label:"Link",type:"url",value:F,onChange:function(e){I(e.target.value);try{new URL(e.target.value),H(!1)}catch(e){H(!0)}},error:q,helperText:q?"Valid URL is required":"",fullWidth:!0,margin:"normal"}),(0,i.jsxs)(v.Z,R({fullWidth:!0,margin:"normal"},{children:[(0,i.jsx)(Z.Z,R({id:"category-label"},{children:"Category"})),(0,i.jsxs)(C.Z,R({labelId:"category-label",label:"Category",value:T,onChange:function(e){return N(e.target.value)}},{children:[(0,i.jsx)(w.Z,R({value:"DOC"},{children:"Documentation"})),(0,i.jsx)(w.Z,R({value:"CHA"},{children:"Chat"})),(0,i.jsx)(w.Z,R({value:"REP"},{children:"Repository"})),(0,i.jsx)(w.Z,R({value:"DIA"},{children:"Diagram"}))]}))]})),(0,i.jsxs)(s.Z,R({sx:{mt:2,display:"flex",justifyContent:"flex-end"}},{children:[(0,i.jsx)(p.Z,R({onClick:G,sx:{mr:1}},{children:"Cancel"})),null!==o?(0,i.jsx)(f.Z,R({color:"error",onClick:function(e){return function(e,n){var t;e.stopPropagation(),t=n.id,console.log(t),window.confirm("Are you sure you want to delete this project link?")&&fetch("/project-link/",{credentials:"include",method:"DELETE",body:JSON.stringify({id:t}),headers:{"Content-Type":"application/json","X-CSRFToken":S.Z.get("csrftoken")}}).then((function(e){if(!e.ok)throw new Error("Failed to delete project link");_((function(e){return e.filter((function(e){return e.id!==t}))})),a(null),O(""),I(""),N("")})).catch((function(e){console.error("Error:",e)}))}(e,o)},style:{marginRight:5}},{children:"Delete"})):null,(0,i.jsx)(p.Z,R({variant:"contained",onClick:function(){if(E.trim()){M(!1);try{new URL(F),H(!1)}catch(e){return void H(!0)}var e={name:E,link:F,category:T};o?e.id=o.id:e.project=n.id,fetch("/project-link/",{credentials:"include",method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRFToken":S.Z.get("csrftoken")}}).then((function(e){return e.json()})).then((function(e){console.log("Saved changes:",e),_(o?function(n){return n.map((function(n){return n.id===e.id?e:n}))}:function(n){return A(A([],n,!0),[e],!1)})})).catch((function(e){console.error("Error:",e)})),a(null),O(""),I(""),N(""),z(!1)}else M(!0)},color:"success",disabled:Y||q||""===E.trim()||""===F.trim()},{children:"Save"}))]}))]}))}))]})}}}]);