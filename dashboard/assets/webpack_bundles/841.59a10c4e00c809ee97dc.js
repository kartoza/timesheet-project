"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[841],{36541:function(e,n,t){var r=t(8081),s=t.n(r),l=t(23645),c=t.n(l)()(s());c.push([e.id,".schedule-container{color:#fff;font-size:13px;margin-bottom:10px}.schedule-date{background-color:#e7c24a;padding:5px;color:#000;border:1px solid rgba(255,255,255,.52);cursor:pointer}.schedule-date:first-child{border-top-left-radius:4px}.schedule-date:last-child{border-top-right-radius:4px}.schedule-item{padding:5px;border:1px solid rgba(124,119,119,.52);color:#f6f6f6}.schedule-project-name{font-weight:bold}[data-mui-color-scheme=dark] .schedule-date{background-color:#1d575c;color:#fff;border:1px solid rgba(124,119,119,.52)}",""]),n.Z=c},6841:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(85893),s=t(67294),l=t(74518),c=t(93379),d=t.n(c),o=t(7795),a=t.n(o),i=t(90569),u=t.n(i),h=t(3565),p=t.n(h),f=t(19216),m=t.n(f),b=t(44589),x=t.n(b),j=t(36541),g={};g.styleTagTransform=x(),g.setAttributes=p(),g.insert=u().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=m(),d()(j.Z,g),j.Z&&j.Z.locals&&j.Z.locals;var v=t(78473),k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},k.apply(this,arguments)};function w(e){var n=(0,s.useState)(null),t=n[0],c=n[1],d=(0,s.useState)(null),o=d[0],a=d[1];return(0,s.useEffect)((function(){fetch("/api/weekly-schedules/",{credentials:"include",method:"GET",headers:{Accept:"application/json","X-CSRFToken":window.csrftoken}}).then((function(e){return e.json()})).then((function(e){var n=e.dates.map((function(e){return new Date(e).toLocaleString("default",{day:"numeric",month:"short"})}));c(n);for(var t=[],r=0,s=e.schedules;r<s.length;r++){var l=s[r];t.push({duration:l.duration,schedule:l.id?l:null,startTime:l.start_time,endTime:l.end_time})}a(t)}))}),[]),(0,r.jsxs)("div",k({className:"schedule-container"},{children:[(0,r.jsx)(l.ZP,k({container:!0},{children:t?t.map((function(e){return(0,r.jsx)(l.ZP,k({className:"schedule-date",item:!0,xs:2.4,onClick:function(){return window.location.href="/planning"}},{children:e}))})):""})),t&&o?(0,r.jsx)(l.ZP,k({container:!0},{children:o.map((function(e){return(0,r.jsx)(l.ZP,k({style:{backgroundColor:e.schedule?(0,v.vC)(e.schedule.project_name):"inherit"},className:e.schedule?"schedule-item":"schedule-empty",item:!0,xs:2.4*e.duration},{children:e.schedule?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",k({className:"schedule-project-name"},{children:e.schedule.project_name})),(0,r.jsx)("div",{children:e.schedule.task_label}),e.schedule.notes?(0,r.jsxs)("div",k({style:{marginTop:2}},{children:["📝",e.schedule.notes.split("\n").map((function(e){return(0,r.jsxs)("span",{children:[e,(0,r.jsx)("br",{})]})}))]})):null]}):null}))}))})):null]}))}}}]);