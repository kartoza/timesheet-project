"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[841],{36541:function(e,n,t){var r=t(8081),a=t.n(r),o=t(23645),s=t.n(o)()(a());s.push([e.id,".schedule-container{color:#fff;font-size:13px;margin-bottom:10px}.schedule-date-today{background-color:var(--mui-palette-main-main) !important;color:#fff !important}.schedule-date{background-color:#e7c24a;padding:5px;color:#000;border:1px solid rgba(255,255,255,.52);cursor:pointer}.schedule-date:first-child{border-top-left-radius:4px}.schedule-date:last-child{border-top-right-radius:4px}.schedule-item{padding:5px;border:1px solid rgba(124,119,119,.52);color:#f6f6f6}.schedule-project-name{font-weight:bold}[data-mui-color-scheme=dark] .schedule-date{background-color:#1d575c;color:#fff;border:1px solid rgba(124,119,119,.52)}.hover-animation{transition:transform .3s ease,box-shadow .3s ease}.hover-animation:hover{transform:translateY(-2px);box-shadow:0 2px 8px rgba(0,0,0,.1)}",""]),n.Z=s},6841:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(85893),a=t(67294),o=t(74518),s=t(93379),c=t.n(s),l=t(7795),d=t.n(l),i=t(90569),u=t.n(i),h=t(3565),p=t.n(h),f=t(19216),m=t.n(f),b=t(44589),x=t.n(b),g=t(36541),j={};j.styleTagTransform=x(),j.setAttributes=p(),j.insert=u().bind(null,"head"),j.domAPI=d(),j.insertStyleElement=m(),c()(g.Z,j),g.Z&&g.Z.locals&&g.Z.locals;var v=t(78473),k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},k.apply(this,arguments)};function w(e){var n=(0,a.useState)(null),t=n[0],s=n[1],c=(0,a.useState)(null),l=c[0],d=c[1],i=(new Date).toLocaleString("default",{day:"numeric",month:"short"});return(0,a.useEffect)((function(){fetch("/api/weekly-schedules/",{credentials:"include",method:"GET",headers:{Accept:"application/json","X-CSRFToken":window.csrftoken}}).then((function(e){return e.json()})).then((function(e){var n=e.dates.map((function(e){return new Date(e).toLocaleString("default",{day:"numeric",month:"short"})}));s(n);for(var t=[],r=0,a=e.schedules;r<a.length;r++){var o=a[r];t.push({duration:o.duration,schedule:o.id?o:null,startTime:o.start_time,endTime:o.end_time})}d(t)}))}),[]),(0,r.jsxs)("div",k({className:"schedule-container"},{children:[(0,r.jsx)(o.ZP,k({container:!0},{children:t?t.map((function(e){return(0,r.jsx)(o.ZP,k({className:"schedule-date "+(e===i?" schedule-date-today":""),item:!0,xs:2.4,onClick:function(){return window.location.href="/planning"}},{children:e}))})):""})),t&&l?(0,r.jsx)(o.ZP,k({container:!0},{children:l.map((function(n){return(0,r.jsx)(o.ZP,k({style:{cursor:"pointer",backgroundColor:n.schedule?(0,v.vC)(n.schedule.project_name):"inherit"},className:n.schedule?"hover-animation schedule-item":"schedule-empty",item:!0,xs:2.4*n.duration,onClick:function(){e.scheduleClicked(n.schedule.project_id,n.schedule.project_name,n.schedule.task_id,n.schedule.task_label)}},{children:n.schedule?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",k({className:"schedule-project-name"},{children:n.schedule.project_name})),(0,r.jsx)("div",{children:n.schedule.task_label}),n.schedule.notes?(0,r.jsxs)("div",k({style:{marginTop:2}},{children:["📝",n.schedule.notes.split("\n").map((function(e){return(0,r.jsxs)("span",{children:[e,(0,r.jsx)("br",{})]})}))]})):null]}):null}))}))})):null]}))}}}]);